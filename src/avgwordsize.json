{
	"pidFile": "tasks.pid",
	
	// this is what is used to feed the machine.
	// always one of them.
	"vent" : {
		"name": "VentWords",
		"exe": "dist/ventwords",
		"node": "localhost",
		"port": 5556,
		"config" : {
			"connections": {
				"pushTo": {
					"block": "PipeDumpFromVent",
					"direction": "to",
					"mode":"bind"
				},
				"syncTo": {
					"block": "PipeDumpIntoSink",
					"direction": "to",
					"mode":"connect"
				},
				"reapTo": {
					"block": "GrimReaper",
					"direction": "to",
					"mode":"connect"
				}
			},
			"filename": "data/words.txt",
			"sleep": 0
		}
	},
	
	// these are all run in the background and remembered.
	"background": [
		{
			"name": "PipeDumpFromVent",
			"exe": "dist/pipedump",
			"node": "localhost",
			"port": 5557,
			"config" : {
				"connections": {
					"pipeFrom": {
						"direction": "from" ,
						"mode": "connect"
					},
					"pipeTo": {
						"block": "WorkCharCount",
						"direction": "to",
						"mode": "bind"
					}
				},
				"every": 100
			}
		},
		{
			"count": 3,
			"name": "WorkCharCount",
			"exe": "dist/workcharcount",
			"node": "localhost",
			"port": 5561,
			"config" : {
				"connections": {
					"pullFrom": {
						"direction": "from",
						"mode":"connect"
					},
					"pushTo": {
						"block": "PipeDumpIntoSink",
						"direction": "to",
						"mode":"connect"
					}
				}
			}
		},
		{
			"name": "PipeDumpIntoSink",
			"exe": "dist/pipedump",
			"node": "localhost",
			"port": 5558,
			"config" : {
				"connections": {
					"pipeFrom": {
						"direction": "from" ,
						"mode": "bind"
					},
					"pipeTo": {
						"block": "SinkAvg",
						"direction": "to",
						"mode": "connect"
					}
				},
				"every": 1000
			}
		},
		{
			"name": "SinkAvg",
			"exe": "dist/sinkavg",
			"node": "localhost",
			"port": 5560,
			"config" : {
				"connections": {
					"pullFrom": {
						"direction": "from",
						"mode":"bind"
					}
				},
				// this needs to be derived by sending a "finished" message.
				"expect": 4505
			}
		}
	],
	
	// and this is what is used to reap. Always one of them.
	"reap": {
		"name": "GrimReaper",
		"exe": "dist/grimreaper",
		"node": "localhost",
		"port": 5559,
		"config" : {
			"connections": {
				"pullFrom": {
					"direction": "from",
					"mode":"bind"
				}
			},
			"pidFile": "tasks.pid",
			"totalTime": 2000
		}
	}
		
}
