
project core-test
    : requirements 
        <toolset>gcc:<c++-template-depth>300
        <toolset>darwin:<cxxflags>-ftemplate-depth-300
        <threading>multi
        <toolset>gcc:<library>'apr-1'<library>'aprutil-1'
    :
    :
    ;

import testing ;

alias unit_test_framework
    : # sources
        /boost//unit_test_framework
    ;        

# make aliases explicit so the libraries will only be built when requested
explicit unit_test_framework ;

lib zmq : : <name>zmq ;
lib czmq : : <name>czmq ;
lib msgpack : : <name>msgpack ;
lib log4cxx : : <name>log4cxx ;

unit-test ports.test
	: portstest.cpp
		zmq
		/core//core
		/config//config
		/boost/test
		log4cxx
	:   <include>../../turtle-1.2.2/include 
		<include>../../cppzmq-master
		<include>../../config
		<include>../../json_spirit_v4.06/json_spirit
	:
	;
	
unit-test vent.test
	: venttest.cpp
		/boost/test
		/core//core
		/config//config
		zmq
		czmq
		msgpack
		log4cxx
	:  	<include>../../turtle-1.2.2/include 
		<include>../../cppzmq-master
		<include>../../config
		<include>../../json_spirit_v4.06/json_spirit
		<include>../../core
		<include>../../msg
	:
	;

unit-test sink.test
	: sinktest.cpp
		/boost/test
		/core//core
		/config//config
		zmq
		czmq
		msgpack
		log4cxx
	:  	<include>../../turtle-1.2.2/include 
		<include>../../cppzmq-master
		<include>../../config
		<include>../../json_spirit_v4.06/json_spirit
		<include>../../core
		<include>../../msg
	:
	;

unit-test work.test
	: worktest.cpp
		/boost/test
		/core//core
		/config//config
		zmq
		czmq
		msgpack
		log4cxx
	:  	<include>../../turtle-1.2.2/include 
		<include>../../cppzmq-master
		<include>../../config
		<include>../../json_spirit_v4.06/json_spirit
		<include>../../core
		<include>../../msg
	:
	;

unit-test track.test
	: tracktest.cpp
		/boost/test
		/core//core
		log4cxx
	:  	<include>../../turtle-1.2.2/include 
		<include>../../core
	:
	;
